<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="../css/isprintintas.css">
</head>
<body onload="generuoti()">
  <div class="container" id="anketa">
      <h3 style='text-align: center; color: rgb(0, 0, 0);' id='headeris'>.</h3>
      <p style="font-size:0.8rem">Sąskaita faktūra išrašė:<br>
      UAB "Telekineta" Pergalės g. 1A,<br> Vilnius, LT-00642
      304343221
      </p>
      <p id='vardas'></p>
      <p id='pavarde'></p>
      <p id='email'></p>
      <p id='telnr'></p>
      <p id='amzius'></p>
      <hr style='border: 3px solid rgb(0, 0, 0);'>
      <p id='trukme'></p>
      <p id='darbuotojas'></p>
      <img id='logo' src="../images/t.jpg">
  <script>

function generuoti(){
      var vardas=sessionStorage.getItem('vardas');
      document.getElementById('vardas').innerHTML='Kliento vardas:      '+vardas;
      var pavarde=sessionStorage.getItem('pavarde');
      document.getElementById('pavarde').innerHTML='Kliento pavarde:      '+pavarde;
      var email=sessionStorage.getItem('email');
      document.getElementById('email').innerHTML='Kontaktinis el. paštas:     '+email;
      var telnr=sessionStorage.getItem('telnr');
      document.getElementById('telnr').innerHTML='Kontaktinis numeris:      '+telnr;
      var amzius=sessionStorage.getItem('amzius');
      console.log(amzius);
      let nuolaida=0;
      let x=0;
      //nuolaidos generavimas
      while(x<amzius){
      x+=2;
      nuolaida++;}
      document.getElementById('amzius').innerHTML='Asmeninė nuolaida jums nuo pateiktos kainos: '+nuolaida+' %';
      //SF generavimas
      var y=Math.floor(Math.random()*10000)+1;
      document.getElementById('headeris').innerHTML='Remonto Nr.: BTLTC00'+y}
      //Darbu trukme
      const kainorastis=[ 
        ['Pirminė apžiūra', '1 diena'], 
        ['Keitimas su savo dalimis', '2 dienos'], 
        ['Keitimas neorg. dalimis', '4 dienos'],
        ['Keitimas org. dalimis', '10 dienų'],];
        random=Math.floor(Math.random()*4)+0;
        var trukme;

      for( let j=0;j<kainorastis.length;j++){
         for(let k=0;k<kainorastis[j].length;k++){
           if(j == random){
             trukme=kainorastis[j][k];
           }}}
      document.getElementById('trukme').innerHTML='Numatoma darbų trukmė: '+trukme;

      //Prisikiriamas asmuo
      const kontaktinisAsmuo=[{
        vardas:'Tomas',
        pavarde:'Klasinskas',
        amzius:'23m.',
        kalba:'EN',
        pareigos:'vadybininkas',
        vardaspavarde: function(){
          return this.vardas+' '+this.pavarde;},
        laisvas: function(){
          return Math.floor(Math.random()*2)+0;}
        },
        {
        vardas:'Martinas',
        pavarde:'Martinaitis',
        amzius:'27m.',
        kalba:'EN',
        pareigos:'vyr.vadybininkas',
        vardaspavarde: function(){
          return this.vardas+' '+this.pavarde;},
        laisvas: function(){
          return Math.floor(Math.random()*2)+0;}
        },
        {
        vardas:'Zigmas',
        pavarde:'Žemaitis',
        amzius:'29m.',
        kalba:'LT',
        pareigos:'konsultantas',
        vardaspavarde: function(){
          return this.vardas+' '+this.pavarde;},
        laisvas: function(){
          return Math.floor(Math.random()*2)+0;}
        },
        {
        vardas:'Janina',
        pavarde:'Volnošaitienė',
        amzius:'45m.',
        kalba:'LT',
        pareigos:'vyr.vadybininkė',
        vardaspavarde: function(){
          return this.vardas+' '+this.pavarde;},
        laisvas: function(){
          return Math.floor(Math.random()*2)+0;}
        },
        {
        vardas:'Tomas',
        pavarde:'Vorobjovas',
        amzius:'40m.',
        kalba:'RU',
        pareigos:'praktikantas-konsultatas',
        vardaspavarde: function(){
          return this.vardas+' '+this.pavarde;},
        laisvas: function(){
          return Math.floor(Math.random()*2)+0;}
        },
        {
        vardas:'Antom',
        pavarde:'Dementev',
        amzius:'33m.',
        kalba:'RU',
        pareigos:'vadybininkas',
        vardaspavarde: function(){
          return this.vardas+' '+this.pavarde;},
        laisvas: function(){
          return Math.floor(Math.random()*2)+0;}
        },
        {
        vardas:'Gunter',
        pavarde:'Langusf',
        amzius:'25m.',
        kalba:'DE',
        pareigos:'konsultatas',
        vardaspavarde: function(){
          return this.vardas+' '+this.pavarde},
        laisvas: function(){
          return Math.floor(Math.random()*2)+0}
        }
      ]
      const laisvasAsmuo=kontaktinisAsmuo.find(person => person.laisvas() == '1');
      console.log(laisvasAsmuo);
      if(laisvasAsmuo == undefined){
        document.getElementById('darbuotojas').innerHTML='Šiuo metu visi darbuotojai yra užimti, tačiau, kai tik kažkas atsilaisvins, būtinai su jumis susisieksime.'}
      else{document.getElementById('darbuotojas').innerHTML='Jums priskirtas kontaktinis asmuo: '+laisvasAsmuo.vardaspavarde()};

  </script>
  </div>
</body>
</html>


